    pipeline {
        agent any
        parameters {
            choice(name: 'SERVICE', choices: ['colony-command', 'colony-query'], description: 'Currently tested service')
            string(name: 'COLONY_COMMAND_VERSION', defaultValue: 'latest', description: 'Version to test')
            string(name: 'COLONY_QUERY_VERSION', defaultValue: 'latest', description: 'Version to test')
        }
        stages {
            stage('docker pull') {
                steps {
                    echo 'Docker pull...'
                    echo "Project name: ${params.COLONY_COMMAND_VERSION}:${params.COLONY_QUERY_VERSION}"
                }
            }
            stage('run e2e') {
                steps {
                    echo 'run e2e...'
                }
            }
            stage('write version to file') {
                steps {
                    script {
                        git(
                            url: 'https://github.com/ajjjjjjjj/jenkins-pipeline-library.git',
                            //credentialsId: GIT_CREDENTIALS,
                            branch: 'master'
                        )
                        writeFile(file: "${params.SERVICE}-version.txt", text: params.COLONY_QUERY_VERSION, encoding: "UTF-8")
                        echo 'git add...'
                        sh(script: "git add ${params.SERVICE}-version.txt")
                        echo 'git commit...'
                        sh(script: "git commit -m 'Updated ${params.SERVICE}-version.txt to ${params.COLONY_QUERY_VERSION}'")
                    }
                }
            }
        }
    }